<div class="page-header" style="margin-top: 10px;">
  <h3>
    Persons maintenance
  </h3>
</div>


<div *ngIf="showGrid" class="row" style="width: 100%;">

  <div class="btn-group">
    <button type="button" class="btn btn-info float-right" (click)="addPerson()">Add</button>
    <button type="button" class="btn btn-success float-right" [disabled]="this.selectedRow == null" (click)="editPerson()">Edit</button>
  </div>

</div>

<div *ngIf="showGrid" class="row" style="width: 100%;">

  <div class="col-md-12">
    <ag-grid-angular style="width: 100%; height: 250px;"
                     class="ag-theme-balham"
                     [rowData]="getRowData()"
                     (selectionChanged)="onSelectionChanged($event)"
                     (cellValueChanged)="onCellValueChanged($event)"
                     [columnDefs]="getColumnDefs()"
                     (gridReady)="onGridReady($event)">
    </ag-grid-angular>

    <div class="btn-group">
      <button type="button" class="btn btn-info float-right" [disabled]="!haveDataChanges()" (click)="revertChanges()">Revert changes</button>
      <button type="button" class="btn btn-success float-right" [disabled]="!haveDataChanges()" (click)="saveChanges()">Commit changes</button>
    </div>

  </div>

  <div class="col-md-1">
  </div>

</div>

<div *ngIf="!showGrid">
  <div *ngIf="isAddMode()">
    <app-person-detail></app-person-detail>
  </div>
  <div *ngIf="isEditMode()">
    <app-edit-person [person]="selectedRow"></app-edit-person>
  </div>
</div>
